<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Flight PHP SPA</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
    <link href="css/css.css" rel="stylesheet">
</head>
<body class="container mt-4">

<nav class="mb-5">
    <!-- guest -->
    <span id="menu-guest">
        <button class="btn btn-link" onclick="navigate('login')">Login</button>
        <button class="btn btn-link" onclick="navigate('register')">Register</button>
    </span>

    <!-- auth -->
    <span id="menu-auth" class="d-none">
        <button class="btn btn-link" onclick="navigate('home')">Home</button>
        <button class="btn btn-link" onclick="navigate('profile')">Profile</button>
        <button class="btn btn-link" onclick="logout()">Logout</button>
    </span>
</nav>

<div class="pt-3">
    <!-- LOGIN -->
    <div class="view" id="login">
        <form onsubmit="login(); return false;">
            <h3>Login</h3>
            <label for="login-email" class="form-label visually-hidden">Email</label>
            <input class="form-control mb-2" id="login-email" placeholder="Email">
            <label for="login-password" class="form-label visually-hidden">Password</label>
            <input class="form-control mb-2" id="login-password" placeholder="Password" type="password">
            <div class="text-danger small form-error" id="err-login-credentials"></div>
            <button class="btn btn-primary" type="submit">Login</button>
        </form>
    </div>

    <!-- REGISTER -->
    <div class="view d-none" id="register">
        <form onsubmit="register(); return false;">
            <h3>Register</h3>
            <label for="register-name" class="form-label visually-hidden">Name</label>
            <input class="form-control mb-2" id="register-name" placeholder="Name">
            <div class="text-danger small form-error" id="err-register-name"></div>
            <label for="register-email" class="form-label visually-hidden">Email</label>
            <input class="form-control mb-2" id="register-email" placeholder="Email">
            <div class="text-danger small form-error" id="err-register-email"></div>
            <label for="register-date_of_birth" class="form-label visually-hidden">Date</label>
            <input class="form-control mb-2" id="register-date_of_birth" type="date">
            <div class="text-danger small form-error" id="err-register-date_of_birth"></div>
            <label for="register-password" class="form-label visually-hidden">Password</label>
            <input class="form-control mb-2" id="register-password" placeholder="Password" type="password">
            <label for="register-password-confirm" class="form-label visually-hidden">Password</label>
            <input class="form-control mb-2" id="register-password-confirm" placeholder="Password" type="password">
            <div class="text-danger small form-error" id="err-register-password"></div>
            <div class="text-danger small form-error" id="err-register-system"></div>
            <button class="btn btn-success" type="submit">Register</button>
        </form>
    </div>

    <!-- HOME (READ-ONLY) -->
    <div class="view d-none" id="home">
        <h3>My account</h3>
        <p><strong>Name:</strong> <span id="home-name"></span></p>
        <p><strong>Email:</strong> <span id="home-email"></span></p>
        <p><strong>Date of birth:</strong> <span id="home-date_of_birth"></span></p>
    </div>

    <!-- PROFILE (EDIT) -->
    <div class="view d-none" id="profile">
        <form onsubmit="meUpdate(); return false;">
            <h3>Update profile</h3>
            <label for="profile-name" class="form-label visually-hidden">Name</label>
            <input class="form-control mb-2" id="profile-name" placeholder="Name">
            <div class="text-danger small form-error" id="err-profile-name"></div>
            <label for="profile-email" class="form-label visually-hidden">Name</label>
            <input class="form-control mb-2" id="profile-email" placeholder="Email">
            <div class="text-danger small form-error" id="err-profile-email"></div>
            <label for="profile-date_of_birth" class="form-label visually-hidden">Date</label>
            <input class="form-control mb-2" id="profile-date_of_birth" type="date">
            <div class="text-danger small form-error" id="err-profile-date_of_birth"></div>
            <div class="text-danger small form-error" id="err-profile-system"></div>
            <button class="btn btn-primary" type="submit">Save</button>
        </form>
    </div>

    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script src="js/ui.js"></script>
    <script src="js/api.js"></script>
    <script src="js/client.js"></script>
    <script src="js/session.js"></script>
    <script src="js/router.js"></script>
    <script src="js/app.js"></script>
</div>
</body>
</html>
